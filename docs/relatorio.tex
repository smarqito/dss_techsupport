\documentclass[a4paper,12pt]{scrreprt}
    %% Used for changing geometry of the page
    %% Cover page text cannot overlay cover sketching/style 
    %% https://ctan.org/pkg/geometry?lang=en
\usepackage{geometry}
    %% Changes language of some packages protocols
    %% e.g., when captioning images: Figure 1. -> Figura 1.
    %% https://ctan.org/pkg/babel?lang=en
\usepackage[portuguese]{babel}
    %% Used for special fonts
    %% Cannot be compiled with pdflatex
    %% https://ctan.org/pkg/fontspec?lang=en
\usepackage{fontspec}
    %% Arial FONT
    \setmainfont{Arial}
\usepackage{subfiles}
    %% More colors and color options
    %% https://ctan.org/pkg/xcolor?lang=en
    %% https://ctan.org/pkg/colortbl?lang=en
\usepackage{xcolor,colortbl}
    %% More tabular options, like dashed/dotted lines
    %% https://ctan.org/pkg/arydshln?lang=en
\usepackage{arydshln}
    %% List of acronyms
    %% https://ctan.org/pkg/nomencl?lang=en
\usepackage[intoc]{nomencl}
    %% Must be called to init nomencl environment  
    \makenomenclature
    %% More images options/settings
    %% https://ctan.org/pkg/graphicx?lang=en
\usepackage{graphics}
    %% Defining subdirectories to image path enviornment
    %% \graphicspath{{sub1}{sub2}...{subN}}
    \graphicspath{{images}}
    
    %% used to handle cross-referencing commands in LaTeX to produce hypertext links in the document
    %% https://ctan.org/pkg/hyperref?lang=en
\usepackage{hyperref}
    %% math environments
    %% https://ctan.org/pkg/amsmath?lang=en

    %% settings
    \hypersetup{
        colorlinks,
        citecolor=black,
        filecolor=black,
        linkcolor=black,
        urlcolor=black
    }

\usepackage{amsmath}
    %% Defining backgrouns, used to make the cover
    %% https://ctan.org/pkg/background?lang=en
\usepackage[some]{background}
    %% Used to make drawings or complex graphics
    %% http://pgf.sourceforge.net/pgf_CVS.pdf
\usepackage{tikz}
    %% Tikz library to point operations ((x1,y1) + (x2,y2))
    \usetikzlibrary{calc}

%% Defining sfdefault font and default font for document
\renewcommand{\familydefault}{\sfdefault}


%% Costume made cover 
%% From there you can use \makecover command to build the cover
\include{cover}

\graphicspath{ {./assets/} }

% TODO
% ABSTRACT - inclui objetivos e descrição
% *ATUALIZAR CAPA - falta mariana
% !descrever entidades modelos domínio
% abordar motivo de criar passos e material
% abordar feature de stock - time bounded ---- no time!!!
% acrescentar colaborador especializado no modelo de domínio 
% considerações finais
% bibliografia??
% indice ??

\begin{document}

\pagenumbering{gobble}

% builds the cover
\makecover

%==========================================================================
% BEGIN ABSTRACT PAGE
%==========================================================================



%% Abstract name: \Large font size, flushed left and paragraph skip before abstract content
\renewenvironment{abstract}
 {\par\noindent\textbf{\Large\abstractname}\par\bigskip}
 {}

\begin{flushleft}
\begin{abstract}
    <<O resumo tem como objectivo descrever de forma sucinta o trabalho realizado. Deverá conter uma pequena introdução, seguida por uma breve descrição do trabalho realizado e terminando com uma indicação sumária do seu estado final. Não deverá exceder as 400 palavras.>> 
    \par \textbf{Área de Aplicação}: <<Identificação da Área de trabalho. Por exemplo: Desenho e arquitectura de Sistemas de Bases de Dados.>> 
    \par \textbf{Palavras-Chave}: <<Conjunto de palavras-chave que permitirão referenciar domínios de conhecimento, tecnologias, estratégias, etc., directa ou indirectamente referidos no relatório. Por exemplo: Bases de Dados Relacionais, Gestão de Índices, JAVA, Protocolos de Comunicação.>>
\end{abstract}
\end{flushleft}


\pagebreak

%==========================================================================
% END ABSTRACT PAGE 
%==========================================================================

%==========================================================================
% BEGIN INDEXES PAGES
%==========================================================================

%% Changes table of content name
%% Portuguese babel default : "Conteúdo"
%% Personally I prefer "índice"
\renewcommand{\contentsname}{Índice}

\tableofcontents

\pagebreak

\listoffigures

\pagebreak

\listoftables

\pagebreak

%==========================================================================
% END INDEXES PAGES 
%==========================================================================


%==========================================================================
% BEGIN INTRODUCTION
%==========================================================================

%% Starting page numbering here
\pagenumbering{arabic}

\chapter{Introdução}
    <<Este primeiro capítulo deverá ter obrigatoriamente as subsecções abaixo apresentadas.>>
    \section{Contextualização}
        <<Nesta secção deverá ser apresentado o contexto no qual se desenvolve o caso de estudo seleccionado.>>
    \section{Apresentação do Caso de Estudo}
        <<Esta secção acolherá uma descrição concisa do caso de estudo seleccionado.>>
    \section{Motivação e Objectivos}
        <<Esta secção acolherá os diversos motivos, acompanhados por uma breve descrição, que conduziram à proposta e ao desenvolvimento do trabalho, assim como a apresentação detalhada dos diversos objectivos a alcançar com a sua realização.>>
    \section{Estrutura do Relatório}
        <<Após a leitura da introdução de um relatório é "simpático" apresentar uma breve descrição daquilo que se vai encontrar nos demais capítulos do relatório.>>

%==========================================================================
% END INTRODUCTION
%==========================================================================

\chapter{Modelação de Domínio}
% breve descrição proposto + objetivos desta fase
% objetivos: modelo de domínio
% abordagem seguida para os atingir - reunir em grupo e fazer
% resultados obtidos - modelos desenvolvidos
% adicionar o modelo de Domínio
% adicionar descrição do modelo
\section{Entidades}

\subsection{Cliente}\label{ent_cliente}
O cliente é a entidade que possui o(s) equipamento(s) que necessita(m) de intervenção técnica, cada cliente é identificado pelo 
seu Número de Identificação Fiscal (NIF).

\subsection{Colaborador} \label{ent_colaborador}
O Colaborador é a entidade relativa a todos os elementos que interagem diretamente com o sistema. 
Numa forma geral, engloba todos os trabalhadores que populam o \textbf{Centro de Reparação} e, após autenticados, executam os
 serviços pedidos - Uma entidade abstrata que ramifica-se em sub-entidades(trabalhadores) mais específicas.

Desde a inserção do equipamento a ser reparado no sistema até à sua eventual entrega ao cliente, o processo conta com participação
 do(s) \textbf{Funcionário(s) de Balcão} e do(s) \textbf{Colaboradore(s) Especializado(s)}.

\subsubsection{Funcionário de Balcão} \label{ent_func_balcao}
Corresponde à entidade responsável pelo início e o término de uma reparação - o registo inicial e entrega do equipamento ao cliente, respetivamente.  

\subsubsection{Colaborador Especializado} \label{ent_colab_especializado}
Esta entidade compreende os colaboradores com competências técnicas especializadas, divergindo na sua autoridade com o Funcionário de Balcão. 
Estes possuem a capacidade de de alterar o que considerarem necessário no Centro de Reparação.

Desta forma, foi definido os seguintes tipos:
\begin{itemize}
    \item[\textbf{Técnico}]{Responsável por fazer o orçamento e realizar a reparação} 
    \item[\textbf{Gestor}]{Tem permissões de administração sobre todo o sistema.}
\end{itemize}

\subsection{Equipamento} \label{ent_equipamento}
Corresponde a uma entidade que representa um objeto físico que irá entrar no sistema com a perspetiva de obter um orçamento e,
 eventualmente, originar uma reparação.
Esta entidade é identificada por um código de registo.

\subsection{Orçamento} \label{ent_orcamento}
O orçamento é a entidade associada a um plano de trabalhos estabelecido pelo técnico e ao prazo máximo de execução da reparação.

\subsection{Reparação} \label{ent_reparacao}
Representa um serviço disponibilizado no sistema. Cada reparação contém um plano de trabalhos e,
mediante o tipo de serviço, apresenta características distintas.
Mediante os cenários apresentados, foram definidos dois tipos: \textit{Reparação expresso} e \textit{Reparação normal}.

\subsubsection{Reparação expresso} \label{ent_reparacao-expresso}
Define um tipo de reparação pré-definida.
Tem associado um plano de trabalhos fixo que, por sua vez, origina um custo e tempo de realização fixo.

\subsubsection{Reparação normal} \label{ent_reparacao-normal}
Corresponde a uma reparação personalizada que contém um plano de trabalhos definido.
Consequentemente, o preço e tempo varia entre cada uma.

\subsection{Forma de Contacto} \label{ent_formas-contacto}
A forma de contacto permite uma comunicação com o cliente, sendo registada a data e hora e colaborador que a efetuou.
Para tal, as opções existentes são o SMS e o Email.

\subsection{Plano de Trabalhos} \label{ent_plano-de-trabalhos}
O plano de trabalhos é divido em passos e sub-passos da reparação, onde cada um consome tempo e utiliza material. 
Esta definição permite obter o número total de horas de trabalho e o custo das peças utilizadas. 
Cada passo de reparação utiliza uma determinada categoria de material, possibilitando obter uma lista de material que pode ser utilizado.

\subsection{Material} \label{ent_material}
O material é uma entidade fundamental tanto para a previsão do orçamento como para a própria reparação.
Este é identificado pela sua referência, está associado a um custo e está contido na categoria respetiva.

\section{Diagrama de Modelo de Domínio} 

\includegraphics[scale=0.41]{Modelo.jpg}

\chapter{Modelação dos Requisitos Funcionais}
% O que o sistema deve fazer:: 
% Cenário 1:: Autenticar um colaborador; selecionar/validar um cliente;
% Cenário 2:: Possibilitar reparação expresso
% Cenário 3:: Definição do plano de trabalhos para a reparação
% Cenário 4:: 
% Cenário 5:: Listagem do desempenho dos colaboradores


Cenários foram identificados pela equipa docente.
A partir dos cenários foram identificados os seguintes \textit{use cases}:
\begin{itemize}
        \item Criar reparação expresso - \ref{criar_rep_expresso}
        \item Pedir orçamento - \ref{pedir_orcamento}
        \item Fazer orçamento - \ref{fazer_orcamento}
        \item Criar passo da Reparação - \ref{criar_passo_rep}
        \item Confirmar orçamento - \ref{confirmar_orcamento}
        \item Arquivar orçamento - \ref{arquivar_orcamento}
        \item Realizar reparação - \ref{realizar_rep}
        \item Realizar passo de reparação - \ref{realizar_passo_rep}
        \item Adicionar material - \ref{adicionar_material}
        \item Encomendar material - \ref{encomendar_material}
        \item Receber material - \ref{receber_material}
        \item Entregar equipamento - \ref{entregar_equipamento}
        \item Dar baixo do equipamento - \ref{dar_baixa_equipamento}
        \item Pedir reparação expresso - \ref{pedir_rep_xpress}
        \item Registar equipamento - \ref{registar_equipamento}
        \item Registar cliente - \ref{registar_cliente}
        \item Listar resumida do técnico - \ref{listagem_tecnico_resumida}
        \item Listar detalhada do técnico - \ref{listagem_tecnico_detalhada}
        \item Listar funcionário do balcão - \ref{listagem_func_balcao}
\end{itemize}
\section{Modelo de Use Cases}

\includegraphics[scale=0.45]{dss-usecase.jpg}

\section{Especificação Use Cases}

\subsection{} \label{criar_rep_expresso}
\subfile{use_cases/usecase_criar-rep-xpress.tex}

\subsection{} \label{pedir_orcamento}
\subfile{use_cases/usecase_pedir-orcamento.tex}

\subsection{} \label{fazer_orcamento}
\subfile{use_cases/usecase_fazer-orcamento.tex}

\subsection{} \label{criar_passo_rep}
\subfile{use_cases/usecase_criar-passo.tex}

\subsection{} \label{confirmar_orcamento}
\subfile{use_cases/usecase_confirmar-orcamento.tex}

\subsection{} \label{arquivar_orcamento}
\subfile{use_cases/usecase_arquivar-orcamento.tex}

\subsection{} \label{realizar_rep}
\subfile{use_cases/usecase_realizar-reparacao.tex}

\subsection{} \label{realizar_passo_rep}
\subfile{use_cases/usecase_realizar-passo-reparacao.tex}

\subsection{} \label{adicionar_material}
\subfile{use_cases/usecase_adicionar-material.tex}

\subsection{} \label{encomendar_material}
\subfile{use_cases/usecase_encomendar-material.tex}

\subsection{} \label{receber_material}
\subfile{use_cases/usecase_receber-material.tex}

\subsection{} \label{entregar_equipamento}
\subfile{use_cases/usecase_entregar-equipamento.tex}

\subsection{} \label{dar_baixa_equipamento}
\subfile{use_cases/usecase_dar-baixa.tex}

\subsection{} \label{pedir_rep_xpress}
\subfile{use_cases/usecase_pedir-reparacao-expresso.tex}

\subsection{} \label{registar_equipamento}
\subfile{use_cases/usecase_registar-equipamento.tex}

\subsection{} \label{registar_cliente}
\subfile{use_cases/usecase_registar-cliente.tex}

\subsection{} \label{listagem_tecnico_resumida}
\subfile{use_cases/usecase_listar-tecnico-resumida.tex}

\subsection{} \label{listagem_tecnico_detalhada}
\subfile{use_cases/usecase_listar-tecnico-detalhada.tex}

\subsection{} \label{listagem_func_balcao}
\subfile{use_cases/usecase_listar-func-balcao.tex}

\chapter{Considerações Finais}
% análise crítica dos resultados

%==========================================================================
% BEGIN LISTA DE SIGLAS E ACRÓNIMOS
%==========================================================================

%% Portuguese babel does not translate this environment
\renewcommand{\nomname}{Lista de Siglas e Acrónimos}

%% Text that can be shown before acronyms list
\renewcommand{\nompreamble}{<<Apresentar uma lista com todas as siglas e acrónimos utilizados durante a realização do trabalho. O formato base para esta lista deverá ser da forma como abaixo se apresenta.>>}

%% acronyms
\nomenclature[01]{\textbf{NIF}}{Número de Idenficação Fiscal}
\nomenclature[02]{DW}{Data Warehouse}
\nomenclature[03]{OLTP}{On-Line Analytical Processing}
\nomenclature[04]{...}{...}

%% Show acronyms
\printnomenclature



%==========================================================================
% END LISTA DE SIGLAS E ACRÓNIMOS
%==========================================================================


%==========================================================================
% BEGIN ANEXOS
%==========================================================================

%% Why \addchap, instead of \chapter? 
%% \addchap has no numbering but appears in table of contents.
\addchap{Anexos}

    <<Os anexos deverão ser utilizados para a inclusão de informação adicional necessária para uma melhor compreensão do relatório o para complementar tópicos, secções ou assuntos abordados. Os anexos criados deverão ser numerados e possuir uma designação. Estes dados permitirão complementar o Índice geral do relatório relativamente à enumeração e apresentação dos diversos anexos.>>
    
    %% section version of \addchap
    \addsec{Anexo 1}


%==========================================================================
% END ANEXOS
%==========================================================================


\end{document}